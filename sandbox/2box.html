<!DOCTYPE html>
<html>
    <head>
<style>

</style>
    </head>
    <body>
        <canvas width="1000px" height="500px" id="canvas" style="border: 1px solid black;"></canvas>
        <script>
            var type,y = 20,x = -1,t,cash,non = 30,X = []
up1 = 30,
up2 = 5,
do1 = 30,
do2 = 5

            for (let i = 0; i < 100; i++){



random = Math.floor(Math.random() * 101) - 1;
if (y < 2) {up1 = 0; up2 = 0; do1 += 25; do2 += 10; non += 0; console.log("not up")}
if (y > 8 && y < 17) {non = 30; up1 = 30; up2 = 5; do1 = 30; do2 = 5; console.log("back in midle")}
if (y > 23) {do1 = 0; do2 = 0; up1 += 25; up2 += 10; non += 0; console.log("not down")}

if (random <= non) {y = y; x ++;
    terrain();if (i == 99) {draw()};continue}

if (random > non && random <=  non + up1) {y --; x ++;
    terrain();if (i == 99) {draw()};continue}
if (random > non + up1 && random <=  non + up1 + up2) {y -= 2; x ++;
    terrain();if (i == 99) {draw()};continue}

if (random > non + up1 + up2 && random <=  non + up1 + up2 + do1) {y ++; x ++;
    terrain();if (i == 99) {draw()};continue}
if (random > non + up1 + up2 + do1 && random <=  non + up1 + up2 + do1 + do2) {y += 2; x ++;
    terrain();if (i == 99) {draw()};continue}
            }
            function terrain() {
    X[X.length] = []
    for (let e = 0; e < 50; e++){
                    if (e >= y) {
                        if (e > y + 3) {t = 3} else if (e > y) {t = 2} else {t = 1}
                    } else {t = 0}
                    X[X.length - 1][e] = t
                }
}


/*============================================================  Cave  ============================================================
var c_g = 10
random = Math.floor(Math.random() * 101) - 1;
if (random <= c_g) {
    
r = Math.floor(Math.random() * 101) - 1;

}
*/
function draw() {   
    each();
}

function each(){
    for (let i = 0; i < X.length; i ++) {
    for (let e = 0; e < X[i].length; e ++) {
         if (X[i][e] > 0) {
    const canvas = document.getElementById('canvas');
          const ctx = canvas.getContext('2d');
    ctx.beginPath();
ctx.rect(i * 10, e * 10, 10, 10);
if (X[i][e] == 3) {ctx.fillStyle = 'rgba(94,91,91,1)';} else if (X[i][e] == 2) {ctx.fillStyle = 'rgba(87,55,7,1)';} else if (X[i][e] == 1) {ctx.fillStyle = 'rgba(15,119,15,1)';}
ctx.fill()
}
}
}
}
        </script>
    </body>
</html>